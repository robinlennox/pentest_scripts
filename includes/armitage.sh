#!/bin/bash

# Armitage SVN #
PACKAGE_NAME="Armitage"
PRINT_MESSAGE "Installing ${PACKAGE_NAME}"
#Armitage Install Function
armitage_install()
{
		PRINT_GOOD "Downloading ${PACKAGE_NAME}"
		curl -o /tmp/armitage.tgz http://www.fastandeasyhacking.com/download/armitage-latest.tgz 
		sudo rm -rf /usr/local/share/armitage
		sudo tar -xvzf /tmp/armitage.tgz -C /usr/local/share
		sudo rm /tmp/armitage.tgz
		sudo sh -c "echo java -jar /usr/local/share/armitage/armitage.jar \$\* > /usr/local/share/armitage/armitage"
		sudo rm -rf /usr/local/bin/armitage
		sudo ln -s /usr/local/share/armitage/armitage /usr/local/bin/armitage

		armitage_alias="alias armitage='-E armitage'"
		if ! grep -Fxq "${armitage_alias}" ~/.bashrc; then
			echo ${armitage_alias} >> ~/.bashrc
		fi

		sudo_alias="alias sudo='sudo '"
		if ! grep -Fxq "${sudo_alias}" ~/.bashrc; then
			echo ${sudo_alias} >> ~/.bashrc
		fi
}
cd "${TOOLSDIRECTORY}"
armitage_install