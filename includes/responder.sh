#!/bin/bash

# Responder
PACKAGE_NAME="Responder"
PRINT_MESSAGE "Checking for ${PACKAGE_NAME} updates"
cd "${TOOLSDIRECTORY}"
if [ ! -d ./responder/ ]; then
	PRINT_GOOD "Downloading ${PACKAGE_NAME}"
	git clone https://github.com/SpiderLabs/Responder.git responder
else
	cd ./responder/
	git pull | grep -o "Already up-to-date"
	if [ $? = 0 ] ; then
		PRINT_GOOD "${PACKAGE_NAME} already up-to-date"
	else
		PRINT_GOOD "${PACKAGE_NAME} updated"
	fi
fi

# Responder Dependencies
for DEPENDPKG in python-openssl
do
	dpkg -s ${DEPENDPKG} 2>&1 | grep -o Installed-Size
	if [ $? != 0 ] ; then
		PRINT_GOOD "Install ${PACKAGE_NAME} Dependency - ${DEPENDPKG}"
		sudo apt-get -y install ${DEPENDPKG}
	fi
done