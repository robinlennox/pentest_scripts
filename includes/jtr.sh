#!/bin/bash

# John the Ripper - Bleeding Edge (Jumbo)
PACKAGE_NAME="John the Ripper - Bleeding Edge"
PRINT_MESSAGE "Checking for ${PACKAGE_NAME} updates"
jtr_jumbo_install()
{
	PRINT_GOOD "Install ${PACKAGE_NAME}"
	cd ${TOOLSDIRECTORY}/jtr_jumbo/src/
	./configure
	make -s clean
	make -sj4
	make clean && make -sj4
}

cd "${TOOLSDIRECTORY}"
if [ ! -d ./jtr_jumbo/ ]; then
	PRINT_GOOD "Downloading ${PACKAGE_NAME}"
	git clone https://github.com/magnumripper/JohnTheRipper -b bleeding-jumbo jtr_jumbo
	jtr_jumbo_install
else
	cd ./jtr_jumbo/
	git pull | grep -o "Already up-to-date"
	if [ $? = 0 ] ; then
		PRINT_GOOD "${PACKAGE_NAME} already up-to-date"
	else
		jtr_jumbo_install
		PRINT_GOOD "${PACKAGE_NAME} updated"
	fi

fi